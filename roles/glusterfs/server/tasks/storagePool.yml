---
- name: gluster peer probe 1
  become: true
  command: gluster peer probe groups['glusterfs'][1]
  delegate_to: "{{ groups['glusterfs'][0] }}"
  run_once: true

- name: gluster peer probe 2
  become: true
  command: gluster peer probe groups['glusterfs'][2]
  delegate_to: "{{ groups['glusterfs'][0] }}"
  run_once: true

- name: gluster peer probe 3
  become: true
  command: gluster peer probe groups['glusterfs'][2]
  delegate_to: "{{ groups['glusterfs'][1] }}"
  run_once: true

- name: gluster peer status
  become: true
  command: gluster peer status
  register: response

- name: debug response
  debug: 
    msg: "{{ response }}"

- name: gluster pool list
  become: true
  command: gluster pool list
  register: response

- name: debug response
  debug: 
    msg: "{{ response }}"